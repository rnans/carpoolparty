<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sql.adminMember">
	<!-- member -->
	<select id="memberInfo" parameterType="Map" resultType="su.adminMember.model.AdminMemberDTO">
		select * from
	   (select rownum as rnum,a.* from
	   (select * from userinfo order by idx desc)a)b
	   where rnum<![CDATA[>=]]>#{startnum} and rnum<![CDATA[<=]]>#{endnum} 
	</select>
	
	<select id="memberTotalCnt" resultType="int">
		select count(*) from userinfo
	</select>
	
	<delete id="memberDel" parameterType="su.adminMember.model.AdminMemberDTO">
		delete from userinfo where idx=#{idx}
	</delete>

	<update id="adminAdd" parameterType="su.adminMember.model.AdminMemberDTO">
		update userinfo set grade=#{grade} where idx=#{idx}
	</update>
	
	<!-- carinfo -->
	<select id="memberCarInfo" parameterType="Map" resultType="su.adminMember.model.AdminCarInfoDTO">
		select * from
	   (select rownum as rnum,a.* from
	   (select * from carinfo order by idx desc)a)b
	   where rnum<![CDATA[>=]]>#{startnum} and rnum<![CDATA[<=]]>#{endnum} 
	</select>
	
	<select id="carInfoTotalCnt" resultType="int">
		select count(*) from carinfo
	</select>
	
	<delete id="memberCarDel" parameterType="su.adminMember.model.AdminCarInfoDTO">
		delete from carinfo where idx=#{idx}
	</delete>
	
	<update id="memberCarOk" parameterType="Map">
		update carinfo set confirm=#{confirm} where idx=#{idx}
	</update>
</mapper>